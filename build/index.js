(()=>{"use strict";const e=window.wp.blocks,t=window.wp.element,l=window.wp.blockEditor,a=window.wp.i18n,n=window.wp.components,r=[{value:"markup",label:"markup"},{value:"html",label:"html"},{value:"css",label:"css"},{value:"javascript",label:"javascript"}],o=e=>{let{props:o}=e;const{attributes:i,setAttributes:s}=o,{language:c,showNumber:m,lineHighlight:u,theme:p}=i;return(0,t.createElement)(l.InspectorControls,null,(0,t.createElement)(n.PanelBody,{title:(0,a.__)("Settings","prism-my-code")},(0,t.createElement)(n.ToggleControl,{label:(0,a.__)("show number lines","prism-my-code"),checked:m,onChange:()=>s({showNumber:!m})}),(0,t.createElement)(n.TextControl,{label:(0,a.__)("Lines Highlight","prism-my-code"),value:u,help:(0,a.__)("Comma separated line numbers. You can use range with -. Example: 1,10,3-5","prism-my-code"),onChange:e=>s({lineHighlight:e})}),(0,t.createElement)(n.SelectControl,{label:(0,a.__)("Language","prism-my-code"),value:c,options:r,onChange:e=>s({language:e})})))};(0,e.registerBlockType)("wp-performance/prism-my-code",{icon:"media-code",example:{},attributes:{language:{type:"string",default:"html"},showNumber:{type:"boolean",default:!0},lineHighlight:{type:"string",default:""},content:{type:"string",default:"// Write your code example here"}},edit:e=>{const{attributes:a,setAttributes:n}=e,{language:r,showNumber:i,lineHighlight:s,content:c}=a,m=(0,l.useBlockProps)({});return(0,t.createElement)("div",m,(0,t.createElement)("pre",{className:`prism-my-code-block language-${r} ${i?"line-numbers":""}`,"data-line":s},(0,t.createElement)(o,{props:e}),(0,t.createElement)(l.RichText,{className:"",tagName:"code",allowedFormats:[],preserveWhiteSpace:!0,value:c,onChange:e=>{return n({content:(t=e,t.replace(/<p>/gi,"").replace(/<\/p>/gi,""))});var t}})))},save:e=>{const{language:a,showNumber:n,lineHighlight:r,content:o}=e.attributes,i=l.useBlockProps.save({});return(0,t.createElement)("div",i,(0,t.createElement)("pre",{className:`prism-my-code-block language-${a} ${n?"line-numbers":""}`,"data-line":r},(0,t.createElement)(l.RichText.Content,{tagName:"code",value:o})))}})})();